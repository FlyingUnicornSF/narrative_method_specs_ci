#
# Define basic display information
#
name     : Estimate K for Expression Data

tooltip  : |
    Calculate an optimal value of k for use in k-means clustering method

screenshots :
    []

#
# Define the set of other narrative methods that should be suggested to the user.
#
method-suggestions :
    related :
        []
    next :
        []


#
# Configure the display and description of the parameters
#
parameters :
    input_expression_matrix:
        ui-name : |
            Expression Matrix
        short-hint : |
            Expression Matrix to use for estimating value of k 
        long-hint  : |
            Expression Matrix to use for estimating value of k 

    output_estimated_k :
        ui-name : |
            Estimated number of clusters
        short-hint : |
            Provide name for estimated number of clusters output
        long-hint  : |
            Provide name for estimated number of clusters output

    min_k :
        ui-name : Min. Number of Clusters
        short-hint : Minimum number of clusters
        long-hint  : Minimum number of clusters

    max_k :
        ui-name : Max. Number of Clusters
        short-hint : Maximum number of clusters (Set max to 100 for most datasets)
        long-hint  : Maximum number of clusters (Set max to 100 for most datasets)

    max_iter :
        ui-name : Max. Number of Iterations
        short-hint : Maximum number of iterations in K-means algorithm 
        long-hint  : Maximum number of iterations in K-means algorithm

    neighb_size :
        ui-name : Neighborhood Size
        short-hint : Neighborhood size used for the connectivity measure
        long-hint  : Neighborhood size used for the connectivity measure

    max_items :
        ui-name : Max. number of rows
        short-hint : Maximum number of rows ( recommended only for large datasets )
        long-hint  : Maximum number of rows ( recommended only for large datasets )

    random_seed :
        ui-name : Random Seed
        short-hint : Random seed used by K-means algorithm
        long-hint  : Random seed used by K-means algorithm


description : |
    <p>This method computes an optimal number of clusters (k) for use in the K-Means Clustering for Expression Data method. This is achieved by minimizing both the number of clusters (k) and the average variance between the clusters. Begin by selecting or importing an expression dataset to analyze using the Add Data button. Provide a name for the output estimate and run the method to calculate an optimal value for k.</p>
    
    <p>For Smaller datasets ( < 4000 expression values and < 20 conditions ):</p>
        <p>If the k estimate method, does not converge within the specified iterations, try running the method by increasing the Max. Number of Iterations parameter.</p>
        <p>if the k estimate method gives an error saying, exceeded Quick-Transfer Stage, try decreasing the Max. Num of Clusters to a smaller number.</p>
    <p>For larger datasets ( > 15000 expression features and > 20 conditions ):</p>
        <p>Use the Max. number of rows parameter (in advanced options ) to a smaller number (1000 - 15000) to estimate_k.</p>
        
    <p><strong>Team members who developed & deployed algorithm in KBase:</strong>
    Paramvir Dehal, Roman Sutormin, Michael Sneddon, Srividya Ramakrishnan, Pavel Novichkov, Keith Keller.</p>

    <p>For questions, <a href="mailto:help@kbase.us">e-mail help@kbase.us</a></p>
    

